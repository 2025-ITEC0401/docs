# 프롬프트
>벡터 z를 PCA와 UMAP으로 시각화하는 것은 어떤 차이가 있어?

벡터 z를 PCA와 UMAP으로 시각화하는 것은 데이터의 어떤 구조를 보존하여 보여줄 것인가에서 근본적인 차이가 있습니다. 간단히 말해 PCA는 전체적인 구조를, UMAP은 국소적인 이웃 관계를 더 잘 보여줍니다.

이해하기 쉽게 두 방법의 핵심 차이점을 표로 정리하면 다음과 같습니다.

| 특징 | 👑 PCA (주성분 분석) | ✨ UMAP (균일 다양체 근사 및 사영) |
| --- | --- | --- |
| 핵심 원리 | 데이터의 분산(Variance)이 가장 큰 방향을 찾아 그 방향으로 데이터를 투영(사영)합니다. | 데이터 포인트 간의 **국소적 이웃 관계(위상 구조)**를 찾아서 저차원에서도 그 관계를 최대한 보존합니다. |
| 데이터 관계 | 선형(Linear) 관계를 가정합니다. 데이터가 직선적으로 퍼져 있는 구조를 잘 표현합니다. | 비선형(Non-linear) 관계를 잘 포착합니다. 데이터가 manifold처럼 복잡하게 얽혀 있어도 구조를 잘 유지합니다. |
| 주요 목표 | 데이터의 전체적인(Global) 구조와 퍼짐 정도를 유지하는 데 중점을 둡니다. | 개별 데이터 포인트들끼리 **가까이 뭉쳐있는 구조(Local)**를 보존하는 데 중점을 두며, 전체적인 구조도 어느 정도 유지합니다. |
| 시각화 결과 | 데이터가 원점에서부터 분산이 큰 축으로 넓게 퍼지는 형태로 나타납니다. | 비슷한 데이터끼리 뚜렷한 **군집(Cluster)**을 형성하는 경향이 강하며, 군집 간의 거리도 어느 정도 의미를 가집니다. |
| 계산 속도 | 매우 빠르고 결정론적(실행할 때마다 결과가 같음)입니다. | PCA보다 느리지만, 유사한 비선형 방식(t-SNE)보다는 훨씬 빠릅니다. |
| 해석 | 각 축(주성분)이 원본 변수들의 어떤 조합인지 수학적으로 명확하게 해석할 수 있습니다. | 시각화 결과는 직관적이지만, 각 축이 원본 변수의 어떤 속성을 의미하는지 직접 해석하기는 어렵습니다. |

PCA가 더 유용할 때:
- 데이터의 전반적인 분포와 가장 큰 변화의 축을 확인하고 싶을 때
- 결과의 재현성(항상 같은 그림)이 중요하고, 각 축의 의미를 해석해야 할 때
- 데이터의 구조가 비교적 단순하고 선형적이라고 예상될 때

UMAP이 더 유용할 때
- 고차원에 숨겨진 데이터의 군집 구조를 뚜렷하게 확인하고 싶을 때
- 데이터 간의 유사성과 미세한 관계를 시각적으로 탐색하고 싶을 때
- 복잡하고 비선형적인 구조를 가진 데이터(예: 이미지, 텍스트 임베딩)를 시각화할 때

결론적으로, PCA는 데이터셋의 '지도'를 넓게 펼쳐서 가장 큰 산맥과 평야가 어디에 있는지 보여주는 것과 같고, UMAP은 그 지도 안에서 각 마을(군집)이 어떻게 형성되어 있고 어떤 마을끼리 가까운지를 더 상세하게 그려주는 것과 같습니다. 따라서 벡터 z의 특성에 따라 두 가지 방법을 모두 사용해 보며 데이터를 다각도로 이해하는 것이 가장 좋습니다.

