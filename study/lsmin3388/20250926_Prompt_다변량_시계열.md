# 다변량 시계열 (Multivariate Time Series)

## Prompts (Powered by Claude)

### Question)
```
단변량 시계열과 다변량 시계열의 차이점은 무엇이고, 각각 어떤 상황에서 사용되나요?
```

### Answer)
단변량 시계열(Univariate Time Series)은 하나의 변수만을 시간에 따라 관찰하는 데이터입니다. 예를 들어, 특정 주식의 종가만을 추적하거나 일일 기온만을 기록하는 경우가 이에 해당합니다.

반면 다변량 시계열(Multivariate Time Series)은 여러 개의 변수를 동시에 시간에 따라 관찰하는 데이터입니다. 예를 들어, 주식의 종가, 거래량, 변동성을 함께 추적하거나, 기온, 습도, 풍속을 동시에 기록하는 경우입니다.

**주요 차이점:**
- **데이터 구조**: 단변량은 1차원 시퀀스, 다변량은 2차원 행렬 형태
- **변수 간 관계**: 다변량은 변수들 간의 상관관계와 상호작용을 모델링할 수 있음
- **예측 정확도**: 변수들이 상관관계가 있을 때, 다변량 모델이 더 정확한 예측을 제공할 수 있음

**사용 상황:**
- 단변량: 변수들이 독립적이거나, 단일 변수 예측이 목표일 때
- 다변량: 변수들 간 상호작용이 중요하거나, 여러 변수를 동시에 예측해야 할 때

---

### Question)
```
다변량 시계열에서 채널(변수) 간 상관관계를 어떻게 활용하나요? 이것이 예측 성능에 어떤 영향을 미치나요?
```

### Answer)
다변량 시계열에서 채널(변수) 간 상관관계는 예측 모델의 핵심 정보원입니다. 각 변수는 다른 변수들과 복잡한 상호작용을 통해 시스템의 전체적인 동작을 결정하기 때문입니다.

**상관관계 활용 방법:**

1. **동시적 상관관계 (Contemporaneous Correlation)**
   - 같은 시점에서 변수들 간의 관계를 학습
   - 예: 기온이 올라가면 에어컨 사용량도 동시에 증가

2. **시차 상관관계 (Lagged Correlation)**
   - 한 변수의 과거 값이 다른 변수의 현재/미래 값에 영향
   - 예: 광고 지출(t)이 매출(t+1)에 영향

3. **교차 변수 패턴 학습**
   - 여러 변수의 조합에서 나타나는 복잡한 패턴 포착
   - 예: 기온과 습도의 조합이 전력 수요에 미치는 영향

**예측 성능에 미치는 영향:**
- **긍정적 효과**: 변수들이 실제로 상관관계가 있을 때, 추가 정보를 활용하여 예측 정확도 향상
- **부정적 효과**: 변수들이 독립적이거나 노이즈가 많을 때, 오히려 과적합(overfitting) 발생 가능
- **차원의 저주**: 변수가 많아질수록 학습이 어려워지고 계산 비용 증가

따라서 도메인 지식을 활용하여 실제로 관련 있는 변수들을 선택하는 것이 중요합니다.

---

### Question)
```
Channel-Independent 방식과 Channel-Dependent 방식의 차이는 무엇이고, 각각의 장단점은 무엇인가요?
```

### Answer)
Channel-Independent와 Channel-Dependent 방식은 다변량 시계열 예측에서 채널(변수)을 처리하는 두 가지 주요 접근법입니다.

**Channel-Independent (CI) 방식:**
각 채널을 독립적으로 처리하며, 채널 간 상관관계를 명시적으로 모델링하지 않습니다.

- **작동 방식**: 각 변수를 별도의 단변량 시계열처럼 취급하여 개별적으로 예측
- **장점:**
  - 모델 구조가 단순하고 학습이 빠름
  - 과적합 위험이 낮음
  - 변수 수가 많아도 확장성이 좋음
  - 변수들이 독립적이거나 약한 상관관계를 가질 때 효과적
- **단점:**
  - 채널 간 상관관계와 상호작용 정보를 활용하지 못함
  - 변수들이 강한 상관관계를 가질 때 예측 정확도가 떨어질 수 있음

**Channel-Dependent (CD) 방식:**
채널 간의 상관관계와 상호작용을 명시적으로 모델링합니다.

- **작동 방식**: 채널 간 관계를 학습하기 위해 attention mechanism, cross-channel convolution 등 사용
- **장점:**
  - 채널 간 복잡한 상호작용과 의존성을 포착
  - 변수들이 강한 상관관계를 가질 때 예측 정확도 향상
  - 더 풍부한 표현력으로 복잡한 패턴 학습 가능
- **단점:**
  - 모델이 복잡하고 학습 시간이 오래 걸림
  - 파라미터 수가 많아 과적합 위험 증가
  - 채널 수가 많을 때 계산 비용이 급격히 증가
  - 채널 간 상관관계가 약할 때 오히려 성능 저하 가능

**선택 가이드:**
- **CI 방식 선택**: 변수가 많고 독립적이거나, 빠른 학습이 필요하거나, 데이터가 부족할 때
- **CD 방식 선택**: 변수 간 상관관계가 강하고, 충분한 데이터와 계산 자원이 있을 때

최근 연구(예: PatchTST)에서는 많은 실제 데이터셋에서 CI 방식이 CD 방식보다 더 나은 성능을 보이는 경우가 많다는 것이 밝혀졌습니다. 이는 과적합 방지와 일반화 능력 측면에서 CI 방식의 단순함이 장점이 될 수 있음을 시사합니다.
