# 임베딩 시각화 프롬프트 Q&A

## Prompts (Powered by Claude)

### Question)
```
임베딩 시각화에서 t-SNE와 UMAP의 차이점은 무엇이며, 각각 어떤 상황에서 사용하는 것이 좋을까요?
```
### Answer)
t-SNE(t-Distributed Stochastic Neighbor Embedding)와 UMAP(Uniform Manifold Approximation and Projection)은 모두 고차원 데이터를 저차원으로 시각화하는 비선형 차원 축소 기법입니다.

**t-SNE의 특징:**
- 지역적 구조(local structure)를 보존하는 데 우수합니다
- 가까운 점들 간의 관계를 잘 유지하지만, 먼 점들 간의 거리는 의미가 없을 수 있습니다
- 계산 비용이 높아 대규모 데이터셋에서는 느립니다 (O(n²))
- 클러스터 간 거리가 실제 거리를 반영하지 않을 수 있습니다
- 매번 실행할 때마다 다른 결과가 나올 수 있습니다 (랜덤 초기화)

**UMAP의 특징:**
- 지역적 구조와 전역적 구조(global structure)를 모두 보존하려고 시도합니다
- t-SNE보다 훨씬 빠릅니다 (특히 대규모 데이터셋에서)
- 클러스터 간 거리가 더 의미있게 보존됩니다
- 수학적으로 더 견고한 이론적 기반을 가지고 있습니다
- 하이퍼파라미터가 더 직관적입니다 (n_neighbors, min_dist)

**사용 권장 상황:**
- t-SNE: 소규모 데이터셋, 클러스터의 명확한 분리가 중요한 경우, 탐색적 분석
- UMAP: 대규모 데이터셋, 클러스터 간 관계도 중요한 경우, 재현 가능한 결과가 필요한 경우, 실시간 분석

---

### Question)
```
PCA와 t-SNE/UMAP의 근본적인 차이점은 무엇이며, 임베딩 시각화에서 왜 PCA만으로는 부족한가요?
```
### Answer)
PCA(Principal Component Analysis)와 t-SNE/UMAP의 가장 큰 차이는 선형성과 비선형성입니다.

**PCA의 특징:**
- 선형 차원 축소 기법입니다
- 데이터의 분산을 최대화하는 방향(주성분)을 찾습니다
- 전역적 구조를 보존하지만, 복잡한 비선형 관계를 포착하지 못합니다
- 계산이 빠르고 결정론적입니다 (항상 같은 결과)
- 수학적으로 명확하고 해석이 용이합니다

**t-SNE/UMAP의 특징:**
- 비선형 차원 축소 기법입니다
- 데이터 포인트 간의 이웃 관계를 보존합니다
- 복잡한 매니폴드 구조를 2D/3D로 펼칠 수 있습니다
- 계산 비용이 더 높고 비결정론적일 수 있습니다

**왜 PCA만으로는 부족한가:**
임베딩(특히 신경망 임베딩)은 고차원 공간에서 복잡한 비선형 매니폴드 구조를 형성합니다. 예를 들어, BERT나 Word2Vec 같은 언어 모델의 임베딩은 의미적 관계가 비선형적으로 얽혀있어, PCA로는 이러한 미묘한 관계를 시각화하기 어렵습니다.

**실무에서의 접근법:**
1. PCA로 먼저 차원을 축소 (예: 768차원 → 50차원)
2. 그 다음 t-SNE/UMAP으로 2D/3D 시각화
이렇게 하면 계산 효율성과 시각화 품질을 모두 얻을 수 있습니다.

---

### Question)
```
임베딩 시각화 결과를 해석할 때 주의해야 할 점과 올바른 해석 방법은 무엇인가요?
```
### Answer)
임베딩 시각화는 강력한 도구지만, 잘못 해석하면 오해를 불러일으킬 수 있습니다.

**주의사항:**

1. **거리의 절대적 의미 없음 (특히 t-SNE)**
   - 2D 공간에서의 거리가 원래 고차원 공간의 거리를 정확히 반영하지 않습니다
   - 클러스터 A와 B 사이의 거리가 B와 C보다 멀어 보여도, 실제로는 더 가까울 수 있습니다
   - t-SNE는 특히 클러스터 간 거리를 왜곡할 수 있습니다

2. **클러스터 크기의 의미 없음**
   - 시각화에서 큰 클러스터가 반드시 더 많은 데이터를 포함하는 것은 아닙니다
   - 밀도가 높아 보이는 영역이 실제로 더 많은 샘플을 가진다고 단정할 수 없습니다

3. **하이퍼파라미터 의존성**
   - perplexity (t-SNE), n_neighbors (UMAP) 값에 따라 결과가 크게 달라집니다
   - 여러 파라미터 설정으로 실험해보고 일관된 패턴을 찾아야 합니다

4. **랜덤성**
   - 같은 데이터라도 실행할 때마다 다른 결과가 나올 수 있습니다
   - random_seed를 고정하여 재현 가능하게 만들어야 합니다

**올바른 해석 방법:**

1. **정성적 패턴 파악**
   - "어떤 데이터들이 함께 군집되는가?"
   - "명확한 클러스터가 존재하는가?"
   - "아웃라이어가 있는가?"

2. **상대적 관계 분석**
   - 같은 클러스터 내의 샘플들이 실제로 유사한 특성을 가지는지 확인
   - 클러스터를 색깔로 구분하여 레이블이나 카테고리와 일치하는지 검증

3. **다른 방법과 교차 검증**
   - PCA, t-SNE, UMAP 결과를 모두 비교
   - 일관되게 나타나는 패턴에 집중

4. **정량적 지표와 함께 사용**
   - Silhouette score, clustering metrics 등으로 보완
   - 실제 고차원 공간에서의 거리나 유사도도 함께 확인

5. **도메인 지식 활용**
   - 시각화 결과를 실제 데이터의 의미와 연결
   - 예상치 못한 군집이 발견되면 그 이유를 탐구

임베딩 시각화는 가설 생성과 패턴 발견을 위한 탐색적 도구로 사용하는 것이 가장 적절하며, 최종 결론은 정량적 분석과 도메인 지식으로 검증해야 합니다.
