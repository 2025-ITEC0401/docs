# 시계열 예측 모델

## Prompts (Powered by Claude)

### Question)
```
시계열 예측에서 통계 기반 모델(ARIMA, SARIMA 등)과 딥러닝 기반 모델(LSTM, Transformer 등)의 차이점과 각각의 장단점을 비교해주세요. 어떤 상황에서 어떤 모델을 선택해야 할까요?
```

### Answer)
**통계 기반 모델 (ARIMA, SARIMA, Exponential Smoothing 등)**

장점:
- 해석 가능성이 높고 모델의 동작 원리를 명확히 이해할 수 있음
- 적은 데이터로도 학습이 가능하며, 계산 비용이 상대적으로 낮음
- 정상성(stationarity) 등 시계열의 통계적 특성을 명시적으로 활용
- 신뢰구간(confidence interval) 계산이 용이하여 불확실성 정량화 가능

단점:
- 선형 관계를 가정하므로 복잡한 비선형 패턴 포착에 한계
- 많은 변수를 동시에 고려하기 어려움 (다변량 시계열 처리 제한적)
- 수동적인 특성 공학(feature engineering)과 파라미터 튜닝 필요

**딥러닝 기반 모델 (LSTM, GRU, Transformer, PatchTST 등)**

장점:
- 복잡한 비선형 패턴과 장기 의존성(long-term dependency) 학습 가능
- 다변량 시계열 데이터 처리에 유리하며, 외부 변수(exogenous variables) 활용 용이
- 자동으로 특징을 학습하므로 수동 특성 공학 최소화
- 대규모 데이터셋에서 높은 성능 발휘

단점:
- 대량의 학습 데이터가 필요하며, 계산 비용과 학습 시간이 큼
- 블랙박스 특성으로 해석 가능성이 낮음
- 하이퍼파라미터 튜닝이 복잡하고 과적합(overfitting) 위험

**모델 선택 가이드:**
- 데이터가 적고(수백 개 미만) 단순한 패턴: 통계 기반 모델
- 대규모 데이터(수천 개 이상)와 복잡한 패턴: 딥러닝 기반 모델
- 해석 가능성과 설명력이 중요한 경우: 통계 기반 모델
- 다변량 데이터와 외부 변수 활용이 필요한 경우: 딥러닝 기반 모델
- 실시간 예측과 빠른 추론이 필요한 경우: 통계 기반 모델 (경량)

---

### Question)
```
시계열 예측 모델의 성능을 평가하는 주요 지표인 MAE, MSE, RMSE, MAPE에 대해 설명하고, 각 지표의 특징과 사용 시 주의사항을 알려주세요.
```

### Answer)
**1. MAE (Mean Absolute Error, 평균 절대 오차)**
```
MAE = (1/n) × Σ|실제값 - 예측값|
```

특징:
- 오차의 절댓값 평균으로, 모든 오차를 동등하게 취급
- 직관적으로 이해하기 쉬우며, 원래 데이터와 같은 단위를 사용
- 이상치(outlier)에 상대적으로 강건함

**2. MSE (Mean Squared Error, 평균 제곱 오차)**
```
MSE = (1/n) × Σ(실제값 - 예측값)²
```

특징:
- 오차를 제곱하므로 큰 오차에 더 큰 페널티 부여
- 미분 가능하여 최적화 알고리즘에 적합 (손실 함수로 널리 사용)
- 제곱 단위이므로 해석이 다소 어려움

**3. RMSE (Root Mean Squared Error, 평균 제곱근 오차)**
```
RMSE = √MSE = √[(1/n) × Σ(실제값 - 예측값)²]
```

특징:
- MSE의 제곱근으로, 원래 데이터와 같은 단위를 가짐
- 큰 오차에 민감하면서도 해석이 용이
- MAE보다 이상치에 더 민감하게 반응

**4. MAPE (Mean Absolute Percentage Error, 평균 절대 백분율 오차)**
```
MAPE = (1/n) × Σ|(실제값 - 예측값) / 실제값| × 100%
```

특징:
- 백분율로 표현되어 스케일에 독립적
- 서로 다른 스케일의 데이터셋 간 비교 가능
- 직관적으로 이해하기 쉬움 (예: MAPE 5% = 평균 5% 오차)

**주의사항:**

- **MAE vs RMSE**: 이상치가 많으면 RMSE가 크게 증가. 이상치 영향을 줄이려면 MAE 선호
- **MAPE의 함정**:
  - 실제값이 0이거나 0에 가까우면 분모가 0이 되어 계산 불가능
  - 실제값이 작을수록 오차가 과대평가됨 (비대칭적)
  - 음수 값이 있는 데이터에는 사용 불가
- **단위 고려**: MAE/RMSE는 데이터 스케일에 의존적이므로, 다른 스케일의 데이터셋 비교 시 정규화 필요
- **비즈니스 목적에 따른 선택**: 큰 오차를 특히 피해야 한다면 RMSE, 전반적인 오차 경향을 보려면 MAE 사용

---

### Question)
```
시계열 예측에서 단기 예측(short-term forecasting)과 장기 예측(long-term forecasting)의 차이는 무엇인가요? 각각의 특징과 적합한 모델, 그리고 실무에서의 활용 예시를 설명해주세요.
```

### Answer)
**단기 예측 (Short-term Forecasting)**

정의:
- 일반적으로 1-7 스텝(step) 미래를 예측
- 시간 단위에 따라 다르지만, 시간 데이터는 수 시간~하루, 일별 데이터는 며칠~1주일

특징:
- 최근 패턴과 트렌드에 크게 의존
- 높은 예측 정확도 달성 가능
- 빠른 의사결정과 즉각적인 대응에 활용
- 계절성(seasonality)보다는 단기 변동성 포착이 중요

적합한 모델:
- 통계 모델: ARIMA, SARIMA, Exponential Smoothing
- 딥러닝 모델: LSTM, GRU (짧은 시퀀스 길이)
- 단순 모델로도 좋은 성능 달성 가능

활용 예시:
- 주식 가격의 다음날 예측
- 전력 수요의 다음 시간 예측 (실시간 발전량 조정)
- 교통량 예측 (신호 제어 최적화)
- 웹 트래픽 예측 (서버 리소스 자동 스케일링)

**장기 예측 (Long-term Forecasting)**

정의:
- 일반적으로 30+ 스텝 미래를 예측
- 시간 데이터는 수 주~수 개월, 일별 데이터는 수 개월~수 년

특징:
- 전체적인 트렌드와 계절성 패턴 학습이 중요
- 불확실성이 누적되어 예측 정확도가 상대적으로 낮음
- 장기 의존성(long-term dependency) 포착 필요
- 전략적 의사결정과 계획 수립에 활용

적합한 모델:
- 통계 모델: SARIMA (계절성 고려), Prophet (트렌드+계절성 분해)
- 딥러닝 모델: Transformer 기반 (Informer, Autoformer, PatchTST)
- 주의(attention) 메커니즘으로 장기 의존성 포착

활용 예시:
- 분기별/연간 매출 예측 (재무 계획)
- 인구 증가 예측 (도시 인프라 계획)
- 기후 변화 예측 (장기 환경 정책)
- 수요 예측 (재고 관리, 생산 계획)

**단기 vs 장기 예측 비교표:**

| 구분 | 단기 예측 | 장기 예측 |
|------|-----------|-----------|
| 예측 범위 | 1-7 스텝 | 30+ 스텝 |
| 정확도 | 높음 | 상대적으로 낮음 |
| 중요 요소 | 최근 패턴, 단기 변동성 | 트렌드, 계절성, 장기 의존성 |
| 모델 복잡도 | 단순 모델도 효과적 | 복잡한 모델 필요 |
| 활용 목적 | 즉각적 대응, 운영 최적화 | 전략적 계획, 정책 수립 |
| 불확실성 | 낮음 | 높음 (신뢰구간 중요) |

**실무 팁:**
- 다중 호라이즌(multi-horizon) 접근: 단기와 장기 예측을 결합하여 다양한 시간 스케일의 의사결정 지원
- 앙상블(ensemble): 여러 모델의 예측을 결합하여 장기 예측의 정확도와 안정성 향상
- 재학습(retraining): 새로운 데이터로 주기적으로 모델 업데이트하여 개념 표류(concept drift) 방지
